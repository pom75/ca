\documentclass[a4paper, 11pt]{report}

\addtolength{\hoffset}{-1cm}
\addtolength{\textwidth}{2cm}

\usepackage[utf8]{inputenc}
\usepackage[frenchb]{babel}
\usepackage[T1]{fontenc}

\usepackage{tikz}


\usepackage{listings}
\usepackage{color}
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\lstnewenvironment{OCaml}
                  {\lstset{
                      language=[Objective]Caml,
                      breaklines=true,
                      commentstyle=\color{purple},
                      stringstyle=\color{red},
                      identifierstyle=\ttfamily,
                      keywordstyle=\color{blue},
                      basicstyle=\footnotesize
                    }
                  }
                  {}
\lstnewenvironment{C}
                  {\lstset{
                      language=C,
                      breaklines=true,
                      commentstyle=\color{purple},
                      stringstyle=\color{red},
                      identifierstyle=\ttfamily,
                      keywordstyle=\color{blue},
                      basicstyle=\footnotesize
                    }
                  }
                  {}

\begin{document}

\chapter{Chapitre 1}

Projet de CA : \emph{ml2mips}.

\section{Section 1}

\begin{itemize}
\item bla
\item blo
\end{itemize}

\section{Section 2}

\begin{OCaml}
class timer init_delay callback = 
object(self)
  val mutable time = init_delay 
  val mutable running = false
  val mutex_delay = Mutex.create ()
  val mutex_running = Mutex.create ()
  method start_count ();
  method restart_count ();
  method get_current_delay;
  method set_delay new_delay;
  method stop_timer ();
end
\end{OCaml}

\section{Section 3}

\subsection{sous-section 1}

\subsection{sous-Section 2}


\chapter{Chapitre 2}

\end{document}
